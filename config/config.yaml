$schema: config.schema.json
defaults:
  region: '{{ .ctx.region }}'
  regionRG: '{{ .ctx.region }}-shared-resources'
  cloud: '{{ .ev2.cloudName }}'
  administration:
    readerGroupId: ''
    releaseManagementGroupId: ''
  global:
    safeDnsIntAppObjectId: ''
    subscription:
      key: hcp-global
      displayName: Azure Red Hat OpenShift HCP - {{ .ctx.environment }} - Global
      providers:
        Microsoft.Dashboard:
          poll: true
        Microsoft.Network:
          poll: true
          features:
          - name: AllowBringYourOwnPublicIpAddress
            poll: true
        Microsoft.Compute:
          poll: true
          features:
          - name: EncryptionAtHost
            poll: true
        Microsoft.ContainerService:
          poll: true
          features:
          - name: IstioNativeSidecarModePreview
            poll: true
    rg: global-shared-resources
    billing:
      rg: placeholder
      digest: placeholder
    globalMSIName: global-ev2-identity
    nsp:
      name: nsp-global
      accessMode: Learning
    keyVault:
      name: arohcp{{ .ctx.environment }}-global
      private: false
      softDelete: true
      tagKey: aroHCPPurpose
      tagValue: global
  acr:
    svc:
      name: arohcpsvc{{ .ctx.environment }}
      zoneRedundantMode: Enabled
      untaggedImagesRetention:
        enabled: false
        days: 365
    ocp:
      name: arohcpocp{{ .ctx.environment }}
      zoneRedundantMode: Enabled
      untaggedImagesRetention:
        enabled: true
        days: 90
  acrPull:
    image:
      registry: mcr.microsoft.com
      repository: aks/msi-acrpull
  arobit:
    forwarder:
      image:
        registry: mcr.microsoft.com
        repository: oss/fluent/fluent-bit
        digest: sha256:667535f49ba225d96395ec8df3dcf9cf5f946facdb69afe1d920ebba3e7a4265
    mdsd:
      enabled: true
      image:
        registry: linuxgeneva-microsoft.azurecr.io
        repository: genevamdsd
        digest: sha256:756d114bbaecec418139b53bdf634a9677f71c5c501a4af901246ef2f2c5d468
  kubeEvents:
    enabled: true
    image:
      registry: ''
      repository: ''
      digest: ''
  secretSyncController:
    image:
      registry: registry.k8s.io
      repository: secrets-store-sync/controller
  backplaneAPI:
    image:
      registry: quay.io
      repository: app-sre/backplane-api
  tenantId: ''
  ev2:
    assistedId:
      certificate:
        keyVault: empty-sentinel
        name: ''
      applicationId: ''
  geneva:
    principalId: ''
    resourceContributor: ''
    metrics:
      cluster:
        account: AzureRedHatOpenShiftCluster
      rp:
        account: AzureRedHatOpenShiftRP
    logs:
      administrators:
        alias:
        - AME\WEINONGW
        securityGroup: AME\TM-AzureRedHatOpenShift-Leads
      adminCertificateDomain: geneva.keyvault.aro-hcp-global.azure.com
      adminCertName: geneva-logs-admin
      manageCertificates: true
      certificateIssuer: Self
      certificateDomain: geneva.keyvault.aro-hcp.azure.com
      typeName: ''
      environment: Test
      cluster:
        secretName: clusterlogs
        accountName: placeholder
        namespace: ''
        san: ''
        configVersion: '1'
      rp:
        secretName: rplogs
        accountName: placeholder
        namespace: ''
        san: ''
        configVersion: '1'
  kusto:
    resourceGroup: ''
    cluster: ''
  hypershift:
    image:
      registry: quay.io
      repository: acm-d/rhtap-hypershift-operator
    namespace: hypershift
    additionalInstallArg: --enable-cpo-overrides
  logs:
    mdsd:
      namespace: arobit
      msiName: logs-mdsd
      serviceAccountName: arobit-forwarder
      cert:
        name: ''
        type: ''
        issuer: ''
      subscriptions: []
    loganalytics:
      enable: false
  monitoring:
    grafanaName: arohcp-{{ .ctx.environment }}
    grafanaRoles: ''
    svcWorkspaceName: services-{{ .ctx.region }}
    hcpWorkspaceName: hcps-{{ .ctx.region }}
    icm:
      manageConnection: true
      connectionName: ''
      connectionId: ''
      environment: ''
      sre:
        actionGroupName: ''
        actionGroupShortName: ''
        routingId: ''
        automitigationEnabled: ''
      sl:
        actionGroupName: ''
        actionGroupShortName: ''
        routingId: ''
        automitigationEnabled: ''
      msft:
        actionGroupName: ''
        actionGroupShortName: ''
        routingId: ''
        automitigationEnabled: ''
  routeMonitorOperator:
    bundleVersion: 0.1.744-gad53663
    operatorImage:
      registry: quay.io
      repository: app-sre/route-monitor-operator
      digest: sha256:5a00509dd9aa9454ddc619ad28bc3007c3099cd9260706b778ded5627c2b3537
    blackboxExporterImage:
      registry: quay.io
      repository: prometheus/blackbox-exporter
      digest: sha256:b04a9fef4fa086a02fc7fcd8dcdbc4b7b35cc30cdee860fdc6a19dd8b208d63e
  svc:
    subscription:
      usePlannedQuota: true
      key: hcp-{{ .ctx.environment }}-svc-{{ .ctx.region }}
      displayName: Azure Red Hat OpenShift HCP - {{ .ev2.regionFriendlyName }} - SVC
      providers:
        Microsoft.Insights:
          poll: true
        Microsoft.Dashboard:
          poll: true
        Microsoft.Network:
          poll: true
          features:
          - name: AllowBringYourOwnPublicIpAddress
            poll: true
        Microsoft.Compute:
          poll: true
          features:
          - name: EncryptionAtHost
            poll: true
        Microsoft.ContainerService:
          poll: true
          features:
          - name: IstioNativeSidecarModePreview
            poll: true
        Microsoft.DbForPostgreSQL:
          poll: true
    rg: hcp-underlay-{{ .ctx.environment }}-{{ .ctx.region }}-svc
    nsp:
      name: nsp-{{ .ctx.regionShort }}-svc
    istio:
      istioctlVersion: 1.24.1
      tag: prod-stable
      ingressGatewayIPAddressName: aro-hcp-istio-ingress
      ingressGatewayIPAddressIPTags: ''
    aks:
      name: '{{ .ctx.environment }}-{{ .ctx.region }}-svc-1'
      vnetAddressPrefix: 10.128.0.0/14
      subnetPrefix: 10.128.8.0/21
      podSubnetPrefix: 10.128.64.0/18
      kubernetesVersion: 1.32.5
      networkDataplane: cilium
      networkPolicy: cilium
      systemAgentPool:
        minCount: 1
        maxCount: 3
        vmSize: Standard_D2s_v3
        osDiskSizeGB: 32
        poolCount: 3
        zones: ''
        zoneRedundantMode: Auto
      userAgentPool:
        minCount: 1
        maxCount: 3
        vmSize: Standard_D2s_v3
        osDiskSizeGB: 32
        poolCount: 3
        zones: ''
        zoneRedundantMode: Auto
      infraAgentPool:
        minCount: 1
        maxCount: 3
        vmSize: Standard_D2s_v3
        osDiskSizeGB: 32
        poolCount: 2
        zones: ''
        zoneRedundantMode: Auto
      etcd:
        name: ah-{{ .ctx.environment }}-se-{{ .ctx.regionShort }}-1
        softDelete: true
        private: true
        tagKey: aroHCPPurpose
        tagValue: etcd-encryption
      clusterOutboundIPAddressIPTags: ''
    prometheus:
      namespace: prometheus
      namespaceLabel: ''
      prometheusOperator:
        image:
          registry: mcr.microsoft.com/oss/v2
          repository: prometheus/prometheus-operator
          digest: sha256:a5bf4407cb83dc93d4e29ef680e0a4d621256e0f004822f53b2ff1c592bf2a82
        version: ''
      prometheusSpec:
        image:
          registry: mcr.microsoft.com/oss/v2
          repository: prometheus/prometheus
          digest: sha256:2dcc22f4a8ea5c198e1c9eb6e7f04d127c55924da72e0f4334e659633185283c
        version: ''
        replicas: 2
        shards: 2
      prometheusConfigReloader:
        image:
          registry: mcr.microsoft.com/oss/v2
          repository: prometheus/prometheus-config-reloader
          digest: sha256:b112cdc776c740261d812ab544261b781f9cb3520d7b400a353993d3be9c6df1
  mgmt:
    subscription:
      usePlannedQuota: true
      key: hcp-{{ .ctx.environment }}-mgmt-{{ .ctx.region }}-{{ .ctx.stamp }}
      displayName: Azure Red Hat OpenShift HCP - {{ .ev2.regionFriendlyName }} - MGMT
        - {{ .ctx.stamp }}
      providers:
        Microsoft.Insights:
          poll: true
        Microsoft.Storage:
          poll: true
        Microsoft.Network:
          poll: true
          features:
          - name: AllowBringYourOwnPublicIpAddress
            poll: true
        Microsoft.Compute:
          poll: true
          features:
          - name: EncryptionAtHost
            poll: true
        Microsoft.ContainerService:
          poll: true
          features:
          - name: IstioNativeSidecarModePreview
            poll: true
    rg: hcp-underlay-{{ .ctx.environment }}-{{ .ctx.region }}-mgmt-{{ .ctx.stamp }}
    applyKubeletFixes: true
    nsp:
      name: nsp-{{ .ctx.regionShort }}-mgmt-{{ .ctx.stamp }}
    aks:
      name: '{{ .ctx.environment }}-{{ .ctx.region }}-mgmt-{{ .ctx.stamp }}'
      vnetAddressPrefix: 10.128.0.0/14
      subnetPrefix: 10.128.8.0/21
      podSubnetPrefix: 10.128.64.0/18
      kubernetesVersion: 1.32.5
      networkDataplane: azure
      networkPolicy: azure
      etcd:
        name: ah-{{ .ctx.environment }}-me-{{ .ctx.regionShort }}-{{ .ctx.stamp }}
        softDelete: true
        private: true
        tagKey: aroHCPPurpose
        tagValue: etcd-encryption
      systemAgentPool:
        vmSize: Standard_E8ds_v6
        osDiskSizeGB: 128
        minCount: 1
        poolCount: 3
        zones: ''
        zoneRedundantMode: Auto
      userAgentPool:
        vmSize: Standard_E32ds_v6
        osDiskSizeGB: 512
        minCount: 1
        poolCount: 3
        zones: ''
        zoneRedundantMode: Auto
      infraAgentPool:
        minCount: 1
        maxCount: 3
        vmSize: Standard_D2ds_v6
        osDiskSizeGB: 32
        poolCount: 2
        zones: ''
        zoneRedundantMode: Auto
      clusterOutboundIPAddressIPTags: ''
      enableSwiftV2Vnet: true
      enableSwiftV2Nodepools: true
    prometheus:
      namespace: prometheus
      namespaceLabel: network.openshift.io/policy-group=monitoring
      prometheusOperator:
        image:
          registry: mcr.microsoft.com/oss/v2
          repository: prometheus/prometheus-operator
        version: ''
      prometheusSpec:
        image:
          registry: mcr.microsoft.com/oss/v2
          repository: prometheus/prometheus
        version: v2.55.1-3
        replicas: 2
        shards: 2
      prometheusConfigReloader:
        image:
          registry: mcr.microsoft.com/oss/v2
          repository: prometheus/prometheus-config-reloader
          digest: sha256:b112cdc776c740261d812ab544261b781f9cb3520d7b400a353993d3be9c6df1
  backend:
    image:
      registry: arohcpsvcdev.azurecr.io
      repository: arohcpbackend
    tracing:
      address: ''
      exporter: ''
  frontend:
    audit:
      tcpAddress: ''
    image:
      registry: arohcpsvcdev.azurecr.io
      repository: arohcpfrontend
    tracing:
      address: ''
      exporter: ''
    cosmosDB:
      deploy: true
      disableLocalAuth: true
      name: arohcp{{ .ctx.environment }}-rp-{{ .ctx.regionShort }}
      private: true
      zoneRedundantMode: Auto
    cert:
      name: frontend-cert-{{ .ctx.environment }}-{{ .ctx.regionShort }}
  billing:
    rg: placeholder
    aub:
      accountName: ''
      cloudSuffix: ''
    pav2:
      cloudName: ''
    kusto:
      sku: ''
      clusterName: ''
      clusterPrincipals:
      - name: ''
        id: ''
        role: ''
        tenantId: ''
        type: ''
      dstsGroups:
      - name: ''
        description: ''
    eventHub:
      namespace: ''
      subscriptionId: ''
      resourceGroupName: ''
  mise:
    deploy: false
    azureAdInstance: ''
    firstPartyAppId: ''
    armInstance: ''
    armAppId: ''
    tenantId: ''
    image:
      repository: ''
      digest: ''
    tracing:
      address: ''
      exporter: ''
  msiRp:
    dataPlaneAudienceResource: https://dummy.org
  msiCredentialsRefresher:
    managedIdentityName: msi-credential-refresher
    firstPartyAppClientId: ''
    k8s:
      namespace: msi-credential-refresher
      serviceAccountName: msi-credential-refresher
    image:
      registry: empty-sentinel
      repository: empty-sentinel
      digest: ''
    certificate:
      name: msi-refresher
      manage: true
      issuer: OneCertV2-PrivateCA
  maestro:
    server:
      tracing:
        address: ''
        exporter: ''
      mqttClientName: maestro-server-{{ .ctx.regionShort }}
      loglevel: 4
      managedIdentityName: maestro-server
      k8s:
        namespace: maestro
        serviceAccountName: maestro
    agent:
      consumerName: hcp-underlay-{{ .ctx.regionShort }}-mgmt-{{ .ctx.stamp }}
      loglevel: 4
      sidecar:
        image:
          registry: mcr.microsoft.com
          repository: azurelinux/base/nginx
          digest: sha256:f203d7e49ce778f8464f403d2558c5d7162b1b9189657c6b32d4f70a99e0fe83
    eventGrid:
      name: arohcp-{{ .ctx.environment }}-maestro-{{ .ctx.regionShort }}
      maxClientSessionsPerAuthName: 6
      private: false
    postgres:
      name: arohcp-{{ .ctx.environment }}-dbmaestro-{{ .ctx.regionShort }}
      serverVersion: '15'
      serverStorageSizeGB: 32
      deploy: true
      private: false
      minTLSVersion: TLSV1.2
      databaseName: maestro
      zoneRedundantMode: Auto
      backupRetentionDays: 7
      geoRedundantBackup: false
    restrictIstioIngress: true
    certDomain: ''
    image:
      registry: quay.io
      repository: redhat-user-workloads/maestro-rhtap-tenant/maestro/maestro
  pko:
    imagePackage:
      registry: quay.io
      repository: package-operator/package-operator-package
      digest: sha256:7e4f7c28650951bbbd73fb42b4780883118d6289f19a3fed4ba5831d32f5f795
    imageManager:
      registry: quay.io
      repository: package-operator/package-operator-manager
      digest: sha256:f2f24e36b097da44f4b598f930cce6c1658be3381d21d7fdf92d26b4dadd1a2f
    remotePhaseManager:
      registry: quay.io
      repository: package-operator/remote-phase-manager
      digest: sha256:f15aa252f69357fbdb2a1b5141badfe9c1f036c800dbfed9d28dc583044e4b4e
  acm:
    operator:
      version: 2.14.0
      mirrorAdditionalVersions: 2.12.0,2.13.0,2.13.1
      bundle:
        registry: registry.redhat.io
        repository: rhacm2/acm-operator-bundle
        digest: sha256:437a786a301ea720cdb5651dff878a9f51470bab46ba28daae4928c7074c9157
    mce:
      version: 2.9.0
      mirrorAdditionalVersions: 2.8.1,2.8.2
      pauseReconciliation: false
      bundle:
        registry: registry.redhat.io
        repository: multicluster-engine/mce-operator-bundle
        digest: sha256:4d9d003842e3ffc386f4e07ce7a81cfa85e676031fb6fdc96aefa9654244974a
  clustersService:
    image:
      registry: quay.io
      repository: app-sre/uhc-clusters-service
    tracing:
      address: ''
      exporter: ''
    environment: arohcp{{ .ctx.environment }}
    denyAssignments: disabled
    postgres:
      name: arohcp-{{ .ctx.environment }}-dbcs-{{ .ctx.regionShort }}
      deploy: true
      private: false
      minTLSVersion: TLSV1.2
      serverVersion: '17'
      serverStorageSizeGB: 128
      databaseName: clusters-service
      zoneRedundantMode: Auto
      backupRetentionDays: 7
      geoRedundantBackup: false
    managedIdentityName: clusters-service
    k8s:
      namespace: clusters-service
      serviceAccountName: clusters-service
    azureRuntimeConfig:
      tlsCertificatesIssuer: OneCertV2-PublicCA
  imageSync:
    environmentName: aro-hcp-image-sync
    outboundServiceTags: ''
    ondemandSync:
      pullSecretName: component-sync-pull-secret
    ocMirror:
      enabled: true
      jobNamePrefix: '{{ .ctx.environment }}-'
      image:
        registry: arohcpsvcdev.azurecr.io
        repository: image-sync/oc-mirror
      pullSecretName: ocmirror-pull-secret
  automationDryRun: true
  miMockClientId: ''
  miMockPrincipalId: ''
  miMockCertName: ''
  armHelperClientId: ''
  armHelperFPAPrincipalId: ''
  armHelperCertName: ''
  oidc:
    storageAccount:
      name: arohcp{{ .ctx.environment }}oidc{{ .ctx.regionShort }}
      zoneRedundantMode: Auto
      public: false
      privateLinkLocation: '{{ .ctx.region }}'
    frontdoor:
      subdomain: oic
      name: arohcp{{ .ctx.environment }}
      sku: Premium_AzureFrontDoor
      keyVault:
        name: ah-{{ .ctx.environment }}-afd
        private: false
        softDelete: true
        tagKey: aroHCPPurpose
        tagValue: afd
      useManagedCertificates: true
      msiName: arohcp-afd
  serviceKeyVault:
    name: arohcp{{ .ctx.environment }}-svc-{{ .ctx.regionShort }}
    rg: '{{ .ctx.region }}-shared-resources'
    region: '{{ .ctx.region }}'
    softDelete: false
    private: false
    assignNSP: true
    tagKey: aroHCPPurpose
    tagValue: service
  cxKeyVault:
    name: ah-{{ .ctx.environment }}-cx-{{ .ctx.regionShort }}-{{ .ctx.stamp }}
    softDelete: false
    private: false
    tagKey: aroHCPPurpose
    tagValue: cx
  msiKeyVault:
    name: ah-{{ .ctx.environment }}-mi-{{ .ctx.regionShort }}-{{ .ctx.stamp }}
    softDelete: false
    private: false
    tagKey: aroHCPPurpose
    tagValue: msi
  mgmtKeyVault:
    name: ah-{{ .ctx.environment }}-mg-{{ .ctx.regionShort }}-{{ .ctx.stamp }}
    softDelete: false
    private: false
    tagKey: aroHCPPurpose
    tagValue: mgmt
clouds:
  dev:
    defaults:
      kubeEvents:
        enabled: false
      automationDryRun: false
      arobit:
        mdsd:
          enabled: false
      regionRG: hcp-underlay-{{ .ctx.environment }}-{{ .ctx.regionShort }}
      global:
        rg: global
        subscription:
          key: ARO Hosted Control Planes (EA Subscription 1)
        region: westus3
        globalMSIName: global-rollout-identity
        keyVault:
          name: arohcpdev-global
      dns:
        baseDnsZoneRG: global
        cxParentZoneName: hcp.osadev.cloud
        svcParentZoneName: hcpsvc.osadev.cloud
        parentZoneName: osadev.cloud
      firstPartyAppClientId: b3cb2fab-15cb-4583-ad06-f91da9bfe2d1
      firstPartyAppCertificate:
        name: firstPartyCert2
        issuer: Self
        manage: false
      miMockClientId: e8723db7-9b9e-46a4-9f7d-64d75c3534f0
      miMockPrincipalId: d6b62dfa-87f5-49b3-bbcb-4a687c4faa96
      miMockCertName: msiMockCert2
      armHelperClientId: 3331e670-0804-48e8-a086-6241671ddc93
      armHelperFPAPrincipalId: 47f69502-0065-4d9a-b19b-d403e183d2f4
      armHelperCertName: armHelperCert2
      oidc:
        storageAccount:
          public: true
        frontdoor:
          name: arohcpdev
      genevaActions:
        serviceTag: GenevaActionsNonProd
      maestro:
        certDomain: selfsigned.maestro.keyvault.azure.com
        certIssuer: Self
        image:
          digest: sha256:e0077b61a4f6fb612f12b63401f7d6e82c6cb1ff29ac4d31797eda808d68d082
      acrPull:
        image:
          digest: sha256:8535e678398d0c15bccc6e4383483f15ab9e248405c0fc1ce587e3999b39e664
      secretSyncController:
        image:
          digest: sha256:31535c9687ecf49a8654bdc6baeb0ae498cf1dcf04e73cf1f99c5376f777712a
        providerImage: mcr.microsoft.com/oss/v2/azure/secrets-store/provider-azure:v1.7.0
      clustersService:
        environment: arohcpdev
        image:
          digest: sha256:667535f49ba225d96395ec8df3dcf9cf5f946facdb69afe1d920ebba3e7a4265
        azureOperatorsManagedIdentities:
          clusterApiAzure:
            roleNames: Azure Red Hat OpenShift Cluster API Role - Dev
          controlPlane:
            roleNames: Azure Red Hat OpenShift Control Plane Operator Role - Dev
          cloudControllerManager:
            roleNames: Azure Red Hat OpenShift Cloud Controller Manager - Dev
          ingress:
            roleNames: Azure Red Hat OpenShift Cluster Ingress Operator - Dev
          diskCsiDriver:
            roleNames: Azure Red Hat OpenShift Disk Storage Operator - Dev
          fileCsiDriver:
            roleNames: Azure Red Hat OpenShift File Storage Operator - Dev
          imageRegistry:
            roleNames: Azure Red Hat OpenShift Image Registry Operator - Dev
          cloudNetworkConfig:
            roleNames: Azure Red Hat OpenShift Network Operator - Dev
          kms:
            roleNames: Azure Red Hat OpenShift KMS Plugin - Dev
        azureRuntimeConfig:
          tlsCertificatesIssuer: Self
      hypershift:
        image:
          registry: quay.io
          repository: acm-d/rhtap-hypershift-operator
          digest: sha256:97fa6698d24c4a18e2d50aa1df51191d8c55099059e149f43a74940831f8591b
      backplaneAPI:
        image:
          digest: sha256:822477832a73c7eab7fe27200994f10030f708f4a752f33ded3f8f8eaa0470f6
      frontend:
        cert:
          issuer: Self
        image:
          digest: ''
      backend:
        image:
          digest: ''
      imageSync:
        ocMirror:
          image:
            digest: sha256:92dc2b18de0126caa2212f62c54023f6e8ecf12e2025c37a5f4151d0253ae14e
      serviceKeyVault:
        name: aro-hcp-dev-svc-kv
        rg: global
        region: westus3
        softDelete: true
      msiCredentialsRefresher:
        certificate:
          manage: false
      svc:
        subscription:
          key: ARO Hosted Control Planes (EA Subscription 1)
          certificateDomains:
          - '*.hcpsvc.osadev.cloud'
        nsp:
          accessMode: Learning
        istio:
          targetVersion: asm-1-25
          versions: asm-1-25
        aks:
          etcd:
            softDelete: false
          infraAgentPool:
            poolCount: 1
          systemAgentPool:
            poolCount: 1
        prometheus:
          prometheusOperator:
            image:
              digest: sha256:a5bf4407cb83dc93d4e29ef680e0a4d621256e0f004822f53b2ff1c592bf2a82
          prometheusSpec:
            image:
              digest: sha256:2dcc22f4a8ea5c198e1c9eb6e7f04d127c55924da72e0f4334e659633185283c
            shards: 1
      mgmt:
        subscription:
          key: ARO Hosted Control Planes (EA Subscription 1)
          certificateDomains:
          - '*.hcp.osadev.cloud'
          - '*.hcpsvc.osadev.cloud'
        aks:
          systemAgentPool:
            vmSize: Standard_E8s_v3
            maxCount: 4
            poolCount: 1
          userAgentPool:
            maxCount: 6
            vmSize: Standard_D4s_v3
            osDiskSizeGB: 100
          infraAgentPool:
            vmSize: Standard_D2s_v3
            poolCount: 2
          etcd:
            softDelete: false
          enableSwiftV2Vnet: false
          enableSwiftV2Nodepools: false
        nsp:
          accessMode: Learning
        prometheus:
          prometheusOperator:
            image:
              digest: sha256:a5bf4407cb83dc93d4e29ef680e0a4d621256e0f004822f53b2ff1c592bf2a82
          prometheusSpec:
            image:
              digest: sha256:2dcc22f4a8ea5c198e1c9eb6e7f04d127c55924da72e0f4334e659633185283c
            shards: 1
      acr:
        svc:
          name: arohcpsvcdev
          zoneRedundantMode: Disabled
        ocp:
          name: arohcpocpdev
          zoneRedundantMode: Disabled
      monitoring:
        icm:
          manageConnection: false
        grafanaName: arohcp-dev
        grafanaMajorVersion: '11'
        grafanaZoneRedundantMode: Disabled
        grafanaRoles: 6b6d3adf-8476-4727-9812-20ffdef2b85c/Group/Admin
        svcWorkspaceName: services-{{ .ctx.regionShort }}
        hcpWorkspaceName: hcps-{{ .ctx.regionShort }}
      kvCertOfficerPrincipalId: c9b1819d-bb29-4ac2-9abe-39e4fe9b59eb
      kvCertAccessPrincipalId: c9b1819d-bb29-4ac2-9abe-39e4fe9b59eb
      kvCertAccessRoleId: ''
    environments:
      dev:
        defaults:
          regionRG: hcp-underlay-{{ .ctx.environment }}-{{ .ctx.region }}
          logs:
            loganalytics:
              enable: true
          mgmt:
            aks:
              systemAgentPool:
                maxCount: 4
              userAgentPool:
                minCount: 1
                maxCount: 3
                vmSize: Standard_D16s_v3
                osDiskSizeGB: 128
          dns:
            regionalSubdomain: '{{ .ctx.region }}'
          maestro:
            server:
              mqttClientName: maestro-server-{{ .ctx.regionShort }}-dev
              tracing:
                address: http://ingest.observability:4318
                exporter: otlp
          frontend:
            audit:
              tcpAddress: arobit-forwarder.arobit.svc.cluster.local:24224
            cosmosDB:
              private: false
              zoneRedundantMode: Disabled
      cspr:
        defaults:
          regionRG: hcp-underlay-{{ .ctx.environment }}-{{ .ctx.region }}
          serviceKeyVault:
            assignNSP: false
          logs:
            loganalytics:
              enable: true
          monitoring:
            svcWorkspaceName: services-{{ .ctx.environment }}-{{ .ctx.regionShort
              }}
            hcpWorkspaceName: hcps-{{ .ctx.environment }}-{{ .ctx.regionShort }}
          svc:
            aks:
              userAgentPool:
                minCount: 2
                maxCount: 12
          mgmt:
            aks:
              systemAgentPool:
                minCount: 1
                maxCount: 4
              userAgentPool:
                minCount: 1
                maxCount: 3
                vmSize: Standard_D16s_v3
                osDiskSizeGB: 128
          geneva:
            logs:
              manageCertificates: false
          dns:
            regionalSubdomain: '{{ .ctx.region }}-cs'
          maestro:
            restrictIstioIngress: false
          frontend:
            cosmosDB:
              private: false
              zoneRedundantMode: Disabled
          hypershift:
            additionalInstallArg: --enable-cpo-overrides=true
            image:
              registry: quay.io
              repository: acm-d/rhtap-hypershift-operator
              digest: sha256:97fa6698d24c4a18e2d50aa1df51191d8c55099059e149f43a74940831f8591b
      ntly:
        defaults:
          regionRG: '{{ .ctx.region }}-shared-resources'
          serviceKeyVault:
            name: arohcp{{ .ctx.environment }}-svc-{{ .ctx.regionShort }}
            rg: '{{ .ctx.region }}-shared-resources'
            region: '{{ .ctx.region }}'
            softDelete: false
          monitoring:
            svcWorkspaceName: aro-hcp-ntly-svc-{{ .ctx.regionShort }}
            hcpWorkspaceName: aro-hcp-ntly-hcp-{{ .ctx.regionShort }}
          clustersService:
            postgres:
              deploy: false
          dns:
            regionalSubdomain: '{{ .ctx.regionShort }}-ntly'
          maestro:
            postgres:
              deploy: false
          frontend:
            cosmosDB:
              private: false
              zoneRedundantMode: Disabled
          mgmt:
            subscription:
              key: ARO HCP nightly management (EA Subscription)
            applyKubeletFixes: false
          svc:
            subscription:
              key: ARO HCP nightly service (EA Subscription)
      pers:
        regions:
          switzerlandnorth:
            oidc:
              storageAccount:
                privateLinkLocation: germanywestcentral
          westus:
            oidc:
              storageAccount:
                privateLinkLocation: westus3
          westeurope:
            svc:
              aks:
                userAgentPool:
                  zones: '1'
                infraAgentPool:
                  zones: '1'
                systemAgentPool:
                  zones: '1'
            mgmt:
              aks:
                userAgentPool:
                  zones: '1'
                infraAgentPool:
                  zones: '1'
                systemAgentPool:
                  zones: '1'
        defaults:
          serviceKeyVault:
            assignNSP: false
          clustersService:
            postgres:
              deploy: false
            tracing:
              address: http://ingest.observability:4318
              exporter: otlp
          geneva:
            logs:
              manageCertificates: false
          dns:
            regionalSubdomain: '{{ .ctx.regionShort }}'
          maestro:
            postgres:
              deploy: false
            server:
              mqttClientName: maestro-server-{{ .ctx.regionShort }}
              tracing:
                address: http://ingest.observability:4318
                exporter: otlp
          backend:
            tracing:
              address: http://ingest.observability:4318
              exporter: otlp
          frontend:
            audit:
              tcpAddress: arobit-forwarder.arobit.svc.cluster.local:24224
            cosmosDB:
              private: false
              zoneRedundantMode: Disabled
            tracing:
              address: http://ingest.observability:4318
              exporter: otlp
          hypershift:
            additionalInstallArg: --enable-cpo-overrides=true
            image:
              registry: quay.io
              repository: acm-d/rhtap-hypershift-operator
              digest: sha256:97fa6698d24c4a18e2d50aa1df51191d8c55099059e149f43a74940831f8591b
          mgmt:
            rg: hcp-underlay-{{ .ctx.environment }}-{{ .ctx.regionShort }}-mgmt-{{
              .ctx.stamp }}
            aks:
              name: '{{ .ctx.environment }}-{{ .ctx.regionShort }}-mgmt-{{ .ctx.stamp
                }}'
              systemAgentPool:
                maxCount: 4
                osDiskSizeGB: 32
                vmSize: Standard_D2s_v3
              userAgentPool:
                maxCount: 6
                osDiskSizeGB: 100
                vmSize: Standard_D4s_v3
            jaeger:
              deploy: false
            applyKubeletFixes: false
          svc:
            rg: hcp-underlay-{{ .ctx.environment }}-{{ .ctx.regionShort }}-svc
            aks:
              name: '{{ .ctx.environment }}-{{ .ctx.regionShort }}-svc'
            jaeger:
              deploy: true
      perf:
        defaults:
          serviceKeyVault:
            assignNSP: false
          dns:
            regionalSubdomain: '{{ .ctx.regionShort }}'
          svc:
            rg: hcp-underlay-{{ .ctx.environment }}-{{ .ctx.regionShort }}-svc
            aks:
              name: '{{ .ctx.environment }}-{{ .ctx.regionShort }}-svc'
          mgmt:
            rg: hcp-underlay-{{ .ctx.environment }}-{{ .ctx.regionShort }}-mgmt-{{
              .ctx.stamp }}
            aks:
              name: '{{ .ctx.environment }}-{{ .ctx.regionShort }}-mgmt-{{ .ctx.stamp
                }}'
              systemAgentPool:
                maxCount: 4
              userAgentPool:
                maxCount: 3
                vmSize: Standard_D16s_v3
                osDiskSizeGB: 128
      swft:
        defaults:
          serviceKeyVault:
            assignNSP: false
          clustersService:
            postgres:
              deploy: false
          dns:
            regionalSubdomain: '{{ .ctx.regionShort }}'
          maestro:
            postgres:
              deploy: false
            server:
              mqttClientName: maestro-server-{{ .ctx.regionShort }}
          frontend:
            cosmosDB:
              private: false
              zoneRedundantMode: Disabled
          mgmt:
            rg: hcp-underlay-{{ .ctx.environment }}-{{ .ctx.regionShort }}-mgmt-{{
              .ctx.stamp }}
            aks:
              name: '{{ .ctx.environment }}-{{ .ctx.regionShort }}-mgmt-{{ .ctx.stamp
                }}'
              systemAgentPool:
                maxCount: 4
              userAgentPool:
                maxCount: 3
                vmSize: Standard_D16s_v3
                osDiskSizeGB: 128
              enableSwiftV2Vnet: true
              enableSwiftV2Nodepools: true
            jaeger:
              deploy: false
            applyKubeletFixes: false
          svc:
            rg: hcp-underlay-{{ .ctx.environment }}-{{ .ctx.regionShort }}-svc
            aks:
              name: '{{ .ctx.environment }}-{{ .ctx.regionShort }}-svc'
